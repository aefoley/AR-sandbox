<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
  
    <title>EV Game prototype</title>

    <!-- Bootstrap core CSS -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Custom styles for this template -->
    <link href="css/ev-game.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    
  </head>
<body>
   



<div class="container" style="margin-top:30px;"><!-- Large modal -->

  <div class="row" >
      <div class="col-sm-12">
        <h1 id="quiz-name"> EV Quiz</h1>
        <div id="quiz" class="color0">
          <div class="choices">
            <div class="printout">Test yourself! How much do you know about electric vehicles (EVs)?</div>
            <div class="questionbox"></div>
            <div class="answerbox">
            
            </div>
            <div id="next"></div>
              <button class="btn-lg btn-warning" id="start" onclick="setUpBox(simpleton)">Start <span class="glyphicon glyphicon-play"></span></button>
          </div>
        </div>
      </div><!-- /col -->
  </div><!-- /row -->


</div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script>

  var simpleton = [{
    "color" : "red", 
    "texture" : "fluffy" 
  }, {
    "color" : "yellow",
    "texture" : "smooth"
  } , {
    "color" : "blue",
    "texture" : "bumpy"
  }];



  var allQuestions = [{
    "question": "How far away from Madison are the super-famous LRV electric vehicles parked?",
    "choices" : ["238,900 mi", "5,000 mi", "10 mi"],
    "bgclass" : "color0",
    "bgclass2" : "color0a",
    "correctAnswer": "238,900 mi",
    "correctMessage" : "238,900 mi - on the moon! The LRVs are the Lunar Roving Vehicles, which went to the moon with Apollo missions 15, 16 and 17."
  }, {
    "question": "How many miles is the average American’s daily commute?",
    "choices": ["5 mi", "30 mi ", "70 mi"],
    "bgclass" : "color1",
    "bgclass2" : "color1a",
    "correctAnswer": "5 mi",
    "correctMessage": "Less than 30 miles."
  }, {
    "question": "What does PHEV stand for?",
    "choices": ["Pretty heavy electric vehicle", "Plug-in hybrid electric vehicle", "Pressure harmonic electric vehicle"],
    "bgclass" : "color2",
    "bgclass2" : "color2a",
    "correctAnswer": "Pretty heavy electric vehicle",
    "correctMessage" : "Plug-in hybrid electric vehicle. PHEVs have both an internal combustion engine and an electric power. They can be recharged by plugging it into an external source of electric power or by their on-board generators."
  }, {
    "question": "In 1900, what percentage of cars in America were EVs?",
    "choices": ["0%", "38%", "12%"],
    "bgclass" : "color3",
    "bgclass2" : "color3a",
    "correctAnswer": "0%",
    "correctMessage": "38%! In New York City at that time, 90% of taxis were EVs! Eventually, the price of gasoline powered cars went way down (due to Henry Ford’s assembly line business model) and made them more attractive to drivers. But EVs had their day even back in the day - and they’re becoming once again more than 100 years later."
  }];

  var counter = 0;
  var i = -1;
  //var stopper = (allQuestions.length)+1;
  //console.log('stopper: ' + stopper);
  // console.log("start counter :" + counter);
  // console.log("start i: " + i);

  // $('#start').click(function () {
  //     // the modulus (%) operator resets the counter to 0
  //     // when it reaches the length of the array
  //     counter = (counter + 1) % allQuestions.length; //increments
  //     i = (i + 1) % allQuestions.length;


  //               // ------------- seeing where we are
  //               console.log("counter:" + counter);
  //               console.log("i:" + i);

  //     //the class will have the background image.
  //     $('#quiz').removeClass('color' + i); 
  //     $('#quiz').addClass('color' + counter); 

  //     //takes the introductory text out.
  //     $('.printout').html(" ");
  //     $("#start").addClass("hidden ");

    

      // ------------- seeing where we are
      // console.log(allQuestions[i].choices);

      // var theChoices = allQuestions[i].choices;

 
      function setUpBox(rayRay) {
      var theChoices = rayRay[2].texture;

        $(".questionbox").html("<p>" + theChoices[counter] + "</p>");
        $( ".answerbox" ).html(
        "<button class='btn btn-info btn-1 btn-choice' data-game-button='" + theChoices[0] + "'>" + theChoices[0] + "</button>" +
        "<button class='btn btn-info btn-1 btn-choice' data-game-button='" + theChoices[1] + "'>" + theChoices[1] + "</button>" +
        "<button class='btn btn-info btn-1 btn-choice' data-game-button='" + theChoices[2] + "'>" + theChoices[2] + "</button>"
        );




      }

      //$(".questionbox").html("<p>" + allQuestions[i].question + "</p>")
      // $( ".answerbox" ).html(
      //   "<button class='btn btn-info btn-1 btn-choice' data-game-button='" + theChoices[0] + "'>" + theChoices[0] + "</button>" +
      //   "<button class='btn btn-info btn-1 btn-choice' data-game-button='" + theChoices[1] + "'>" + theChoices[1] + "</button>" +
      //   "<button class='btn btn-info btn-1 btn-choice' data-game-button='" + theChoices[2] + "'>" + theChoices[2] + "</button>"
      //   );



      $(".btn-choice").click(function() {
          var answer = $(this).attr("data-game-button"); // GET THE DATA IN ATTR
          event.preventDefault();
          console.log(answer);
          realAnswer = allQuestions[i].correctAnswer;
          goodMessage = allQuestions[i].correctMessage;
          if (answer === realAnswer ) {
            console.log("gotit!");
            $('#quiz').removeClass('color' + counter);
            $('#quiz').addClass('color' + counter + 'a');
            $(".answerbox" ).html(goodMessage);

          } else {
            console.log("keep trying!");
            $('#quiz').removeClass('color' + counter);
            $('#quiz').addClass('colorNope');
            $(".answerbox").html("<h1>Nope</h1>");
          }

          //$('#next').html("<button class='btn-lg btn-warning'>" + foo )

          counter = counter + 1;
          console.log("counter:" + counter);

      }); //end button-choice so far

//}); //end start set up



</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script type="text/javascript" src="js/sandbox-mgequiz.js"></script>

  </body>
</html>
