<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
  
    <title>EV Game prototype</title>

    <!-- Bootstrap core CSS -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Custom styles for this template -->
    <link href="css/ev-game.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    
  </head>
<body>
  <div class="container" style="margin-top:30px;"><!-- Large modal -->

    <div class="row" >
        <div class="col-sm-12">
          <h1 id="quiz-name"> EV Quiz</h1>
          <div id="quiz" class="color0">
            <div class="choices">
             
              <div class="questionbox"><p>Test yourself! How much do you know about electric vehicles (EVs)?</p></div>
              <div class="answerbox"></div>
              
              <button class="btn-lg btn-warning" id="start" onclick="setUpBox(allQuestions)">Start <span class="glyphicon glyphicon-play"></span></button>
              <button class="btn-lg btn-danger hide" id="next" onclick="setUpBox(allQuestions)">Next <span class="glyphicon glyphicon-play"></span></button>

            </div>
          </div>
        </div><!-- /col -->
    </div><!-- /row -->
</div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script>




  var allQuestions = [{
    "question": "How far away from Madison are the super-famous LRV electric vehicles parked?",
    "choices" : ["238,900 mi", "5,000 mi", "10 mi"],
    "bgclass" : "color0",
    "bgclass2" : "color0a",
    "correctAnswer": "238,900 mi",
    "correctMessage" : "238,900 mi is correct - they're on the moon! The LRVs are the Lunar Roving Vehicles, which went to the moon with Apollo missions 15, 16 and 17.",
    "incorrMessage" : "238,900 mi - on the moon! The LRVs are the Lunar Roving Vehicles, which went to the moon with Apollo missions 15, 16 and 17."
  }, {
    "question": "How many miles is the average American’s daily commute?",
    "choices": [" < 5 mi", "< 30 mi", "< 70 mi"],
    "bgclass" : "color1",
    "bgclass2" : "color1a",
    "correctAnswer": "< 30 mi",
    "correctMessage": "Correct = less than 30 miles.",
    "incorrMessage" : "The average Amercan commutes less than 30 miles a day."
  }, {
    "question": "What does PHEV stand for?",
    "choices": ["Pretty heavy electric vehicle", "Plug-in hybrid electric vehicle", "Pressure harmonic electric vehicle"],
    "bgclass" : "color2",
    "bgclass2" : "color2a",
    "correctAnswer": "Plug-in hybrid electric vehicle",
    "correctMessage" : "Correct - plug-in hybrid electric vehicle. PHEVs have both an internal combustion engine and an electric power. They can be recharged by plugging it into an external source of electric power or by their on-board generators.",
    "incorrMessage" : "The correct answer is Plug-in Hybrid Electric Vehicles."
  }, {
    "question": "In 1900, what percentage of cars in America were EVs?",
    "choices": ["0%", "38%", "12%"],
    "bgclass" : "color3",
    "bgclass2" : "color3a",
    "correctAnswer": "38%",
    "correctMessage": "Correct - 38%! In New York City at that time, 90% of taxis were EVs! Eventually, the price of gasoline powered cars went way down (due to Henry Ford’s assembly line business model) and made them more attractive to drivers. But EVs had their day even back in the day - and they’re becoming once again more than 100 years later.",
    "incorrMessage" : "38%. Who would have thought?  In New York City at that time, 90% of taxis were EVs! Eventually, the price of gasoline powered cars went way down (due to Henry Ford’s assembly line business model) and made them more attractive to drivers. But EVs had their day even back in the day - and they’re becoming once again more than 100 years later."
  }];

  
  newCounter = 0;

  colorInc = 0;


  function setUpBox(anArray) {
    theArray = Object.values(anArray); //the whole array
    choiceArray = theArray[newCounter].choices;
    correctAns = theArray[newCounter].correctAnswer;
    correctMessage = theArray[newCounter].correctMessage;
    incorrMessage = theArray[newCounter].incorrMessage;
    colorInc = colorInc + 1;//runs after click

    $('#quiz').removeClass().addClass('color' + colorInc);

    $(".questionbox").html("<p>" + theArray[newCounter].question + "</p>");
        newCounter = newCounter + 1 ;

    $( ".answerbox" ).html(

      "<button class='btn btn-info btn-1 btn-choice' data-game-button='" + choiceArray[0] + "'>" + choiceArray[0] + "</button>" +
      "<button class='btn btn-info btn-1 btn-choice' data-game-button='" + choiceArray[1] + "'>" + choiceArray[1] + "</button>" +
      "<button class='btn btn-info btn-1 btn-choice' data-game-button='" + choiceArray[2] + "'>" + choiceArray[2] + "</button>"
    );

     $("#start").hide();

     console.log("newCounter: " + newCounter);



  $(".btn-choice").click(function() {

      var answer = $(this).attr("data-game-button"); // GET THE DATA IN ATTR
      event.preventDefault();
      colorInc = colorInc + 1;

      if (  answer === correctAns ) {
   
        $('#quiz').removeClass().addClass('color' + colorInc);
        $(".answerbox" ).html('<p>' + correctMessage + '</p>');
        $('#next').removeClass('hide');
       
      } else {

        $('#quiz').removeClass().addClass('colorNope');
        $('.questionbox').html('');
        $(".answerbox").html("<h1>Nope</h1><p>" + incorrMessage + "</p>");
        $('#next').removeClass('hide');
      }
   

  }); //end button-choice so far

    
}


</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script type="text/javascript" src="js/sandbox-mgequiz.js"></script>

  </body>
</html>
